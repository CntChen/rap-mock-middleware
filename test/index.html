<!DOCTYPE html>
<html>
<head>
  <title>RAP Mock Middleware test</title>
</head>
<body>
  <p>RAP Mock Middleware Test<p>
  <p>Open dev-tool "network" panel to see the result<p>    
  <script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
  <script type="text/javascript">
    // add Cookie
    document.cookie = 'hello=world';
    var ServerUrl = 'http://0.0.0.0:28080/';

    // 写headers时候大小写无关。???

    // Simple Request
    // GET
    $.ajax({
      url: ServerUrl + 'simple_get',
      type: 'DELETE',
      headers: {
        //the headers set automatically by the user agent
        'accept': '*/*',
        // 'Accept-Language': 'en-US,en;q=0.81',

        // 浏览器知道自己的能力是什么，所以这些默认头JS开发者自己设置也没用，浏览器会覆写的,console
        // 'Accept-Encoding': 'gzip, deflate, sdch',
        // 'Connection': 'keep-alive',
        // 指示浏览器信息，不给改
        // 'Host': '192.168.1.20028080',
        // 'Origin': 'http://localhost',
        // 'Referer': 'http://localhost/work/rap-mock-middleware/test/',
        // 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.100 Safari/537.36',
        // 开发者写的会被覆写，但是引起了Preflight
        // 'Cache-Control': 'no-cache', // max-age=0

        // 写了不给添加上去
         // 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7',

        // allowed to be manually set
        'Accept': 'ramdom',
        'Accept-LanGUAge': 'ramdom',
        'Accept-Language': 'ramdom1',
        'Content-Language': 'ramdom',
        // 'ETag': 'test',

        // enumeration:`application/x-www-form-urlencoded` `multipart/form-data` `text/plain`
        'Content-Type': 'text/plain',
      },
      data: {},
      success: function(dt){
        console.log(dt);
      },
      beforeSend: function(xhr){
        xhr.withCredentials = true;
      },
    });

    // // POST
    // $.ajax({
    //   url: ServerUrl + 'simple_post',
    //   type: 'POST',
    //   headers: {
    //   },
    //   data: {},
    //   success: function(dt){
    //     console.log(dt);
    //   },
    //   beforeSend: function(xhr){
    //   },
    // });

    // // HEAD
    // $.ajax({
    //   url: ServerUrl + 'simple_head',
    //   type: 'HEAD',
    //   headers: {
    //   },
    //   data: {},
    //   success: function(dt){
    //     console.log(dt);
    //   },
    //   beforeSend: function(xhr){
    //   },
    // });

    // // Preflighted Requests
    // // uses methods other than GET, HEAD or POST
    // $.ajax({
    //   url: ServerUrl + 'delete',
    //   type: 'DELETE',
    //   headers: {
    //   },
    //   data: {},
    //   success: function(dt){
    //     console.log(dt);
    //   },
    //   beforeSend: function(xhr){
    //   },
    // });

    // // Content-Type other than enumeration
    // $.ajax({
    //   url: ServerUrl + 'other_content_type',
    //   type: 'GET',
    //   headers: {
    //     'Content-Type': 'text/xml',
    //   },
    //   data: {},
    //   success: function(dt){
    //     console.log(dt);
    //   },
    //   beforeSend: function(xhr){
    //   },
    // });

    // // custom headers in the request
    // $.ajax({
    //   url: ServerUrl + 'custom_headers',
    //   type: 'GET',
    //   headers: {
    //     'cntchen': 'FE',
    //   },
    //   data: {},
    //   success: function(dt){
    //     console.log(dt);
    //   },
    //   beforeSend: function(xhr){
    //   },
    // });

    // // with credentials
    // $.ajax({
    //   url: ServerUrl + 'with_credentials',
    //   type: 'GET',
    //   headers: {
    //   },
    //   data: {},
    //   success: function(dt){
    //     console.log(dt);
    //   },
    //    xhrFields: { 
    //      withCredentials: true,
    //   },
    //   beforeSend: function(xhr){
    //     xhr.withCredentials = true;
    //     console.log(xhr);
    //     return xhr;
    //   },
    // });

    // var invocation = new XMLHttpRequest();
    //  console.log(invocation);
    // if(invocation) {
    //   invocation.open('GET', ServerUrl, true);
    //   invocation.withCredentials = true;
    //   invocation.setRequestHeader('cntchen', 'FE');
    //   invocation.send(); 
    // }

  </script>
</body>

</html>